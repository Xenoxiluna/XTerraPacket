<!DOCTYPE html>
<html lang="en">
  <head>
    <title>  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset='utf-8'>
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
  </head>
  <body>
    <a title="  Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="index.html"> Docs</a> (25% documented)</p>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="index.html"> Reference</a>
        <img id="carat" src="img/carat.png" />
          Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="Enums.html">Enumerations</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Enums/TerrariaPacketFactory.html">TerrariaPacketFactory</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/TerrariaPacketType.html">TerrariaPacketType</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Protocols/NetModule.html">NetModule</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/TerrariaPacket.html">TerrariaPacket</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Structs.html">Structures</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Structs/NetModuleAmbience.html">NetModuleAmbience</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/NetModuleBestiary.html">NetModuleBestiary</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/NetModuleBestiary/BestiaryType.html">– BestiaryType</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/NetModuleChat.html">NetModuleChat</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/NetModuleChat/ChatCommandType.html">– ChatCommandType</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/NetModuleCreativePowerPermissions.html">NetModuleCreativePowerPermissions</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/NetModuleCreativePowers.html">NetModuleCreativePowers</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/NetModuleCreativeUnlocks.html">NetModuleCreativeUnlocks</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/NetModuleCreativeUnlocksPlayerReport.html">NetModuleCreativeUnlocksPlayerReport</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/NetModuleLiquid.html">NetModuleLiquid</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/NetModuleParticles.html">NetModuleParticles</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/NetModulePing.html">NetModulePing</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/NetModuleTeleportPylon.html">NetModuleTeleportPylon</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketAnglerQuest.html">PacketAnglerQuest</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketCatchNPC.html">PacketCatchNPC</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketChatText.html">PacketChatText</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketChestGetContents.html">PacketChestGetContents</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketChestItem.html">PacketChestItem</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketChestName.html">PacketChestName</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketChestOpen.html">PacketChestOpen</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketChestUnlock.html">PacketChestUnlock</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketClientSyncedInventory.html">PacketClientSyncedInventory</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketClientUUID.html">PacketClientUUID</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketCompleteAnglerQuest.html">PacketCompleteAnglerQuest</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketConnectApproval.html">PacketConnectApproval</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketConnectRequest.html">PacketConnectRequest</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketCreateCombatText.html">PacketCreateCombatText</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketCreateCombatTextExtended.html">PacketCreateCombatTextExtended</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketCreateTemporaryAnimation.html">PacketCreateTemporaryAnimation</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketCrystalInvasionSendWaitTime.html">PacketCrystalInvasionSendWaitTime</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketCrystalInvasionStart.html">PacketCrystalInvasionStart</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketCrystalInvasionWipeAll.html">PacketCrystalInvasionWipeAll</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketDeadPlayer.html">PacketDeadPlayer</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketDeprecated.html">PacketDeprecated</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketDisconnect.html">PacketDisconnect</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketDoorUse.html">PacketDoorUse</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketDoorUse/DoorAction.html">– DoorAction</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketEffectHeal.html">PacketEffectHeal</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketEffectMana.html">PacketEffectMana</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketEmoji.html">PacketEmoji</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketEmoteBubble.html">PacketEmoteBubble</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketFinishedConnectingToServer.html">PacketFinishedConnectingToServer</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketFishOutNPC.html">PacketFishOutNPC</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketFoodPlatterTryPlacing.html">PacketFoodPlatterTryPlacing</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketForceItemIntoNearestChest.html">PacketForceItemIntoNearestChest</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketGemLockToggle.html">PacketGemLockToggle</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketHitSwitch.html">PacketHitSwitch</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketItemDrop.html">PacketItemDrop</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketItemOwner.html">PacketItemOwner</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketKillPortal.html">PacketKillPortal</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketLandGolfBallInCup.html">PacketLandGolfBallInCup</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketLiquidSet.html">PacketLiquidSet</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketLoadNetModule.html">PacketLoadNetModule</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketLoadNetModule/NetModuleType.html">– NetModuleType</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketMassWireOperation.html">PacketMassWireOperation</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketMassWireOperationPay.html">PacketMassWireOperationPay</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketMinionAttackTargetUpdate.html">PacketMinionAttackTargetUpdate</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketMoonLordCountdown.html">PacketMoonLordCountdown</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketNebulaLevelUp.html">PacketNebulaLevelUp</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketNotifyPlayerNpcKilled.html">PacketNotifyPlayerNpcKilled</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketNotifyPlayerOfEvent.html">PacketNotifyPlayerOfEvent</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketNpcAddBuff.html">PacketNpcAddBuff</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketNpcItemStrike.html">PacketNpcItemStrike</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketNpcKillCount.html">PacketNpcKillCount</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketNpcShopItem.html">PacketNpcShopItem</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketNpcSpecial.html">PacketNpcSpecial</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketNpcStrike.html">PacketNpcStrike</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketNpcTalk.html">PacketNpcTalk</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketNpcTeleportPortal.html">PacketNpcTeleportPortal</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketNpcUpdate.html">PacketNpcUpdate</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketNpcUpdateBuff.html">PacketNpcUpdateBuff</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketNumberOfAnglerQuestsCompleted.html">PacketNumberOfAnglerQuestsCompleted</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketPaintTile.html">PacketPaintTile</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketPaintWall.html">PacketPaintWall</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketPasswordRequired.html">PacketPasswordRequired</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketPasswordSend.html">PacketPasswordSend</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketPlaceChest.html">PacketPlaceChest</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketPlaceChest/ChestAction.html">– ChestAction</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketPlaceItemFrame.html">PacketPlaceItemFrame</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketPlaceObject.html">PacketPlaceObject</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketPlaceTileEntity.html">PacketPlaceTileEntity</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketPlaceholder.html">PacketPlaceholder</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketPlayHarp.html">PacketPlayHarp</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketPlayLegacySound.html">PacketPlayLegacySound</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketPlayerActive.html">PacketPlayerActive</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketPlayerAddBuff.html">PacketPlayerAddBuff</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketPlayerAnimation.html">PacketPlayerAnimation</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketPlayerBuff.html">PacketPlayerBuff</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketPlayerDamage.html">PacketPlayerDamage</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketPlayerDeathV2.html">PacketPlayerDeathV2</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketPlayerDodge.html">PacketPlayerDodge</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketPlayerHealOther.html">PacketPlayerHealOther</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketPlayerHp.html">PacketPlayerHp</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketPlayerHurtV2.html">PacketPlayerHurtV2</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketPlayerInfo.html">PacketPlayerInfo</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketPlayerInventorySlot.html">PacketPlayerInventorySlot</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketPlayerKillMe.html">PacketPlayerKillMe</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketPlayerMana.html">PacketPlayerMana</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketPlayerSpawn.html">PacketPlayerSpawn</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketPlayerSpawn/SpawnReason.html">– SpawnReason</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketPlayerSpawnSelf.html">PacketPlayerSpawnSelf</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketPlayerStealth.html">PacketPlayerStealth</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketPlayerTeam.html">PacketPlayerTeam</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketPlayerTeleportPortal.html">PacketPlayerTeleportPortal</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketPlayerUpdate.html">PacketPlayerUpdate</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketPoofOfSmoke.html">PacketPoofOfSmoke</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketProjectileDestroy.html">PacketProjectileDestroy</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketProjectileNew.html">PacketProjectileNew</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketReleaseNPC.html">PacketReleaseNPC</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketRemoveItemOwner.html">PacketRemoveItemOwner</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketRemoveRevengeMarker.html">PacketRemoveRevengeMarker</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketReportInvasionProgress.html">PacketReportInvasionProgress</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketRequestNPCBuffRemoval.html">PacketRequestNPCBuffRemoval</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketRequestTileEntityInteraction.html">PacketRequestTileEntityInteraction</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketRequestWorldInfo.html">PacketRequestWorldInfo</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketSetCountsAsHostForGameplay.html">PacketSetCountsAsHostForGameplay</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketSignNew.html">PacketSignNew</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketSignRead.html">PacketSignRead</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketSmartTextMessage.html">PacketSmartTextMessage</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketSocialHandshake.html">PacketSocialHandshake</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketSpawnBossorInvasion.html">PacketSpawnBossorInvasion</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketStatus.html">PacketStatus</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketSyncCavernMonsterType.html">PacketSyncCavernMonsterType</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketSyncExtraValue.html">PacketSyncExtraValue</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketSyncPlayerChestIndex.html">PacketSyncPlayerChestIndex</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketSyncPlayers.html">PacketSyncPlayers</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketSyncRevengeMarker.html">PacketSyncRevengeMarker</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketSyncTilePicking.html">PacketSyncTilePicking</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketTamperWithNPC.html">PacketTamperWithNPC</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketTeleport.html">PacketTeleport</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketTeleportationPotion.html">PacketTeleportationPotion</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketTile.html">PacketTile</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketTileEntityDisplayDollItemSync.html">PacketTileEntityDisplayDollItemSync</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketTileEntityHatRackItemSync.html">PacketTileEntityHatRackItemSync</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketTileFrameSection.html">PacketTileFrameSection</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketTileGetSection.html">PacketTileGetSection</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketTileSendSection.html">PacketTileSendSection</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketTileSendSquare.html">PacketTileSendSquare</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketTimeSet.html">PacketTimeSet</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketToggleParty.html">PacketToggleParty</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketTogglePvp.html">PacketTogglePvp</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketTravellingMerchantInventory.html">PacketTravellingMerchantInventory</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketTreeGrowFX.html">PacketTreeGrowFX</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketTweakItem.html">PacketTweakItem</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketUpdateGoodEvil.html">PacketUpdateGoodEvil</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketUpdateItemDrop.html">PacketUpdateItemDrop</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketUpdateMinionTarget.html">PacketUpdateMinionTarget</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketUpdateNPCHome.html">PacketUpdateNPCHome</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketUpdateNPCName.html">PacketUpdateNPCName</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketUpdatePlayerLuckFactors.html">PacketUpdatePlayerLuckFactors</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketUpdateShieldStrengths.html">PacketUpdateShieldStrengths</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketUpdateTileEntity.html">PacketUpdateTileEntity</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketWeaponsRackTryPlacing.html">PacketWeaponsRackTryPlacing</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketWiredCannonShot.html">PacketWiredCannonShot</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketWorldInfo.html">PacketWorldInfo</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PacketZones.html">PacketZones</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            
            <h1 id='code-xterrapacket-code' class='heading'><code>XTerraPacket</code></h1>

<p><a href="https://developer.apple.com/swift/"><img src="https://img.shields.io/badge/Swift-5.X-blue.svg" alt="Swift 5.X"></a>
<a href="LICENSE"><img src="https://img.shields.io/badge/license-MIT-lightgrey.svg" alt="GitHub license"></a>
<a href="https://xenoxiluna.github.io/XTerraPacket/index.html"><img src="http://img.shields.io/badge/read_the-docs-2196f3.svg" alt="Docs"></a></p>

<p>A Packet Library for encoding and decoding Terraria&rsquo;s network protocol packets.</p>

<p>## Usage
 Brief example using SwiftNIO for now&hellip; You can also look at <a href="https://github.com/Xenoxiluna/TerraProxy-CLI">TerraProxy-CLI</a> for inspiration/uses.</p>

<p>### Decode
 You can decode an incoming packet&rsquo;s raw bytes like this:</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">packetData</span> <span class="o">=</span> <span class="n">bb</span><span class="o">.</span><span class="nf">getBytes</span><span class="p">(</span><span class="nv">at</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="nv">length</span><span class="p">:</span> <span class="n">bb</span><span class="o">.</span><span class="n">readableBytes</span><span class="p">)</span><span class="o">!</span>
<span class="k">guard</span> <span class="k">var</span> <span class="nv">packet</span> <span class="o">=</span> <span class="k">try</span><span class="p">?</span> <span class="kt">TerrariaPacketFactory</span><span class="o">.</span><span class="nf">decodePacket</span><span class="p">(</span><span class="nv">packet</span><span class="p">:</span> <span class="n">packetData</span><span class="p">)</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="s">"Parse failed!"</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="s">"Failed bytes: </span><span class="se">\(</span><span class="n">packetData</span><span class="se">)</span><span class="s">)"</span><span class="p">)</span>
    <span class="n">channel</span><span class="o">.</span><span class="nf">writeAndFlush</span><span class="p">(</span><span class="kt">NIOAny</span><span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="n">bb</span><span class="p">),</span> <span class="nv">promise</span><span class="p">:</span> <span class="kc">nil</span><span class="p">)</span>
    <span class="k">return</span>
<span class="p">}</span>
</code></pre>

<p>Once you have a valid packet, you can view its type using the swifts dynamic type(of:) function or using the provided getType() protocol extension.</p>
<pre class="highlight swift"><code><span class="nf">print</span><span class="p">(</span><span class="s">"Swift Packet type: </span><span class="se">\(</span><span class="nf">type</span><span class="p">(</span><span class="nv">of</span><span class="p">:</span> <span class="n">packet</span><span class="p">)</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="s">"Packet Type: </span><span class="se">\(</span><span class="n">packet</span><span class="o">.</span><span class="nf">getType</span><span class="p">()</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
</code></pre>

<p>Form there, its possible to run the decode again to translate the payload. You could also just use the packets decodePayload() function.</p>
<pre class="highlight swift"><code><span class="k">do</span><span class="p">{</span>
    <span class="k">try</span> <span class="n">packet</span><span class="o">.</span><span class="nf">decode</span><span class="p">()</span>
    <span class="nf">print</span><span class="p">(</span><span class="s">"Decoded Packet Bytes: </span><span class="se">\(</span><span class="n">packet</span><span class="o">.</span><span class="n">bytes</span><span class="se">)</span><span class="s">)"</span><span class="p">)</span>
<span class="p">}</span><span class="k">catch</span><span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="s">"Decode failed..."</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="s">"Failed Packet Bytes: </span><span class="se">\(</span><span class="n">packet</span><span class="o">.</span><span class="n">bytes</span><span class="se">)</span><span class="s">)"</span><span class="p">)</span>
    <span class="k">return</span>
<span class="p">}</span>

<span class="k">switch</span> <span class="n">packet</span><span class="o">.</span><span class="nf">getType</span><span class="p">(){</span>
<span class="k">case</span> <span class="kt">TerrariaPacketType</span><span class="o">.</span><span class="kt">ConnectApproval</span><span class="p">:</span>
    <span class="k">let</span> <span class="nv">appPacket</span> <span class="o">=</span> <span class="n">packet</span> <span class="k">as!</span> <span class="kt">PacketConnectApproval</span>
    <span class="n">connection</span><span class="o">.</span><span class="nf">setPlayerId</span><span class="p">(</span><span class="nv">playerId</span><span class="p">:</span> <span class="kt">Int</span><span class="p">(</span><span class="n">appPacket</span><span class="o">.</span><span class="n">playerId</span><span class="p">))</span>
<span class="k">default</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="s">""</span><span class="p">)</span>
<span class="p">}</span>
</code></pre>

<p>### Encode
 TODO
 For now, See API Documentation for encode functionality.</p>

<p>## Dependencies</p>

<ul>
<li><a href="https://github.com/Xenoxiluna/SwiftyBytes">SwiftyBytes 0.4.0</a></li>
</ul>

<p>## License</p>

<p><code>XTerraPacket</code> is licensed under the <a href="LICENSE">MIT License</a></p>

          </section>
        </section>
        <section id="footer">
          <p>&copy; 2020 <a class="link" href="" target="_blank" rel="external"></a>. All rights reserved. (Last updated: 2020-07-19)</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.13.3</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</div>
</html>
